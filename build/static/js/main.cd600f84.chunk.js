(this["webpackJsonpquotes-daap"]=this["webpackJsonpquotes-daap"]||[]).push([[0],{345:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},352:function(e,t,n){},354:function(e,t,n){},366:function(e,t){},367:function(e,t){},369:function(e,t){},373:function(e,t){},397:function(e,t){},399:function(e,t){},413:function(e,t){},415:function(e,t){},443:function(e,t){},445:function(e,t){},534:function(e,t){},535:function(e,t){},627:function(e,t){},632:function(e,t){},814:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a),s=n(341),c=n.n(s),u=(n(352),n(56)),i=n(46),o=n(16),l=n.n(o),p=(n(354),n(11)),d=function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("nav",{className:"navbar",children:[Object(p.jsx)("h1",{className:"brand-name",children:"Quotes Dapp"}),Object(p.jsx)("nav",{children:Object(p.jsxs)("span",{children:[" ",Object(p.jsx)("li",{children:Object(p.jsxs)("a",{className:"balance",children:[Object(p.jsx)("span",{children:e.cUSDBalance}),"cUSD"]})})]})})]})})},f=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],s=n[1];return Object(p.jsx)("div",{children:Object(p.jsx)("form",{children:Object(p.jsxs)("div",{class:"form-row",children:[Object(p.jsx)("input",{type:"text",class:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Author Name"}),Object(p.jsx)("button",{type:"button",onClick:function(){return e.addQuote(r)},class:"btn btn-info mt-2",children:"Add Quote"})]})})})},b=n(342),j=n.n(b),y=n(344),m=n(19),x=n.n(m),h=n(345),v=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],s=n[1];return Object(p.jsxs)("div",{className:"card-container",children:[e.quotes.map((function(t){return Object(p.jsx)("div",{className:"col-3",children:Object(p.jsx)("div",{class:"card",children:Object(p.jsxs)("div",{class:"card-body ",children:[Object(p.jsx)("h5",{class:"card-title",children:t.text}),Object(p.jsxs)("h6",{class:"card-subtitle",children:["Helpfullness: ",t.helpfull]}),e.userWallet!==t.owner&&Object(p.jsx)("button",{type:"button",class:"btn btn-primary mt-2",onClick:function(){return e.addHelpfullness(t.index)},children:"helpfull"}),Object(p.jsx)("form",{children:Object(p.jsxs)("div",{class:"form-r",children:[Object(p.jsx)("input",{type:"text",class:"form-control mt-4",value:r,onChange:function(e){return s(e.target.value)},placeholder:"enter quote"}),Object(p.jsx)("button",{type:"button",onClick:function(){return e.editQuote(t.index,r)},class:"btn btn-primary mt-2",children:"edit quote"})]})})]})})},t.index)})),";"]})},O="0xB88F2aB24e4e619150FFf63F20bAcDb04265D479";var w=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),c=Object(i.a)(s,2),o=c[0],b=c[1],m=Object(a.useState)(null),w=Object(i.a)(m,2),T=w[0],k=w[1],g=Object(a.useState)(0),S=Object(i.a)(g,2),C=S[0],F=S[1],Q=Object(a.useState)([]),B=Object(i.a)(Q,2),D=B[0],A=B[1],N=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=22;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new j.a(window.celo),n=Object(y.newKitFromWeb3)(t),e.next=8,n.web3.eth.getAccounts();case 8:return a=e.sent,r=a[0],n.defaultAccount=r,e.next=13,b(r);case 13:return e.next=15,k(n);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:e.next=23;break;case 22:alert("Error Occurred");case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),M=Object(a.useCallback)(Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.getTotalBalance(o);case 3:t=e.sent,n=t.cUSD.shiftedBy(-18).toFixed(2),a=new T.web3.eth.Contract(D,O),r(a),F(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[o,T]),q=Object(a.useCallback)(Object(u.a)(l.a.mark((function e(){var t,a,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getQuotesLength().call();case 2:for(t=e.sent,a=[],r=function(e){var t=new Promise(function(){var t=Object(u.a)(l.a.mark((function t(a,r){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.methods.readQuotes(e).call();case 2:s=t.sent,a({index:e,owner:s[0],text:s[1],helpfull:s[2]});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());a.push(t)},s=0;s<t;s++)r(s);return e.next=8,Promise.all(a);case 8:c=e.sent,A(c);case 10:case"end":return e.stop()}}),e)}))),[n]),E=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.writeQuote(t).send({from:o});case 3:q(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.editQuote(t,a).send({from:o});case 3:q(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new T.web3.eth.Contract(h,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"),r=new x.a("1").shiftedBy(18).toString(),e.next=5,a.methods.approve(O,r).send({from:o});case 5:return e.next=7,n.methods.increaseHelpfullness(t,r).send({from:o});case 7:q(),M(),alert("you have successfully donated to the writer"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N()}),[]),Object(a.useEffect)((function(){T&&o&&M()}),[T,o,M]),Object(a.useEffect)((function(){n&&q()}),[n,q]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(d,{cUSDBalance:C}),Object(p.jsx)(v,{userWallet:o,quotes:D,editQuote:H,addHelpfullness:P}),Object(p.jsx)(f,{addQuote:E})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,817)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};n(810),n(811);c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),T()}},[[814,1,2]]]);
//# sourceMappingURL=main.cd600f84.chunk.js.map